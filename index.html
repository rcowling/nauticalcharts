<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">    
    <script src="https://cdn.jsdelivr.net/npm/openseadragon@2.4.2/build/openseadragon/openseadragon.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="https://js.arcgis.com/4.17/esri/css/main.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/json2csv@4.2.1"></script>
    <script src="https://js.arcgis.com/4.17/"></script>
    <title>AGSL Nautical Chart Explorer</title>    
  </head>
  <body>
    <!-- Image and text -->
<nav class="navbar navbar-light bg-light">
  <a class="navbar-brand" href="#">
    <img src="compass.png" width="50" height="50" class="d-inline-block align-top" alt="" loading="lazy">
    AGSL Nautical Chart Explorer
  </a>
</nav>    
    <div id="viewDiv"></div>
    <div class="modal" id="dataModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Download Chart Data</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <label for="cars">Chart series:</label>
        <select name="series" id="series">                          
        </select>
         <label for="cars">Format:</label>
        <select name="format" id="format">         
            <option value="csv">CSV</option>
            <option value="geojson">GeoJSON</option>              
        </select>
      </div>
      <div class="modal-footer">
        <button type="button" id="getDataBtn" class="btn btn-primary">Download</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
<div class="modal viewer" id="imageModal" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-xl" role="document">
    <div class="modal-content">
      
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <div id="openseadragon1"></div>
      </div>      
    </div>
  </div>
</div>
<div class="modal" id="infoModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">About this Project</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <h5>Using this Application</h5>
        First select a chart series of interest from the dropdown menu, by default the application displays 'French Charts.' Pan and zoom
        around the map to locate charts in an area of interest. Clicking on any chart will reveal information about each chart. Use the <strong>Full Image</strong> button in the popup to display a high-resoltion, zoomable image of the select chart. <br><br>

        You can also use the <strong>Search</strong> bar to locate any chart by geographic location or its 'Title' or 'label.'<br><br>
        <h5>Download Data</h5>
        You can use the download data button to select and download an entire chart series in either GeoJSON or CSV format. First select
        a chart series and then select the data type and click the <strong>Download</strong> button.<br><br>
        <h5>Credits</h5>
        Application Developer: Bob Cowling<br>
        Title: GIS Intern at the AGSL
      </div>
      <div class="modal-footer">        
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
<script src="main.js"></script>
  </body>
</html>